<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
<script type="text/javascript">
	function find(arr, f) {
		return arr.filter(f)[0];
	}

	function deepCopy(obj, cache = []) {
		if (obj === null || typeof obj !== 'object') {
			return obj;
		}
		const hit = find(cache, function(c) {
			if (c.original === obj) {
				return true;
			} else {
				return false;
			}
		});

		if (hit) {
			return hit.copy;
		}

		const copy = Array.isArray(obj) ? [] : {};

		cache.push({
			original: obj,
			copy
		});

		Object.keys(obj).forEach(key => {
			copy[key] = deepCopy(obj[key], cache);
		});

		return copy;

	}

	let info = {
	    name: 'kkk',
	    age: 18,
	    address: 'shanghai',
	    list: [
	      { id: 1, title: 'hello' },
	      { id: 2, title: 'how' },
	      { id: 3, title: 'are' },
	      { id: 4, title: 'you' }
	    ],
	    course: {
	      school: {
	        name: 'A',
	        className: 'B'
	      }
	    }
	  };

 	let res = deepCopy(info);
  	console.log(res);
</script>
</body>
</html>