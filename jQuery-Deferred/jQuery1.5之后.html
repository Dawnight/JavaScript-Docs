<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>jQuery 1.5 之后</title>
</head>
<body>
<h3>jQuery 1.5 之后</h3>
<script src="https://cdn.bootcss.com/jquery/1.8.0/jquery.min.js"></script>
<script>
  $(function () {
    let ajax = $.ajax('./data.json');
    ajax.done(() => {
      console.log('success 1');
      return 'return success 1';
    }).fail((a) => {
      console.log('a: ', a);
      console.log('fail 1');
      return 'return fail 1';
    }).done((b) => {
      console.log('b: ', b);
      console.log('success 2');
      return 'return success 2';
    }).fail((c) => {
      console.log('c: ', c);
      console.log('fail 2');
      return 'return fail 2';
    }).done((d) => {
      console.log('d: ', d);
      console.log('success 3');
      return 'return success 3';
    }).fail((e) => {
      console.log('e: ', e);
      console.log('fail 3');
      return 'return fail 3';
    });
    // 每次done得到的参数，都是ajax请求后得到的结果，不是上一层done函数return的结果

    ajax = $.ajax('./data.json');
    ajax.then((a) => {
      console.log('a: ', a);
      console.log('success 1');
      return 'return success 1';
    }, (b) => {
      console.log('b: ', b);
      console.log('fail 1');
      return 'return fail 1';
    }).then((c) => {
      console.log('c: ', c);
      console.log('success 2');
      return 'return success 2';
    }, (d) => {
      console.log('d: ', d);
      console.log('fail 2');
      return 'return fail 2';
    }).then((e) => {
      console.log('e: ', e);
      console.log('success 3');
    }, (f) => {
      console.log('f: ', f);
      console.log('fail 1');
    });
    // 每次上一个then成功的return结果会被下一个then的成功函数接收。






  });
</script>
</body>
</html>