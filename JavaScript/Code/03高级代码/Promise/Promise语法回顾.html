<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Promise语法回顾</title>
</head>
<body>
<h3>Promise语法回顾</h3>
<script>
  function loadImage(src) {
    const promise = new Promise((resolve, reject) => {
      let img = document.createElement('img');
      img.onload = () => {
        resolve(img);
      };

      img.onerror = () => {
        reject(img);
      };
      img.src = src;
    });
    return promise;
  }

  let src = 'https://www.imooc.com/static/img/index/logo.png';
  let result = loadImage(src);
  result.then(img => {
    console.log('img.width: ', img.width);
    return img;
  }, () => {
    console.log('error 1');
  }).then(img => {
    console.log('img.height: ', img.height);
    return img;
  }, () => {
    console.log('error 2');
  })

</script>
</body>
</html>