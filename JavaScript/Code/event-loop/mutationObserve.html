<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>MutationObserve</title>
</head>
<body>
<div id="app"></div>
<script>
  let mutationObserve = new MutationObserver(() => {
    // 异步的任务
    console.log(app.children.length);
  });

  setTimeout(() => {
    console.log('timeout')
  })

  mutationObserve.observe(app, {childList: true});

  for (let i = 0; i < 10; i++) {
    app.appendChild(document.createElement('p'));
  }

  for (let i = 0; i < 10; i++) {
    app.appendChild(document.createElement('p'));
  }

  for (let i = 0; i < 10; i++) {
    app.appendChild(document.createElement('p'));
  }
</script>
</body>
</html>
