[TOC]

# 1.安全性

场景的前端安全问题有哪些？

+ XSS跨站请求攻击
+ XSRF跨站请求伪造

# 2. CSRF
+ 基本概念和缩写
    + 跨站请求伪造,`Cross-site request forgery`，缩写为CSRF。
+ 攻击原理(利用本身的漏洞接口)
    + `A`网站身份认证过程：用户登录网站，网站确认登录者信息正确，下发一次`cookie`，保存在用户的浏览器当中
    + 在用户点击`B`网站的时候，`B`网站有一个引诱链接，引诱到`A`网站，此时便将`A`网站的`cookie`发送到`B`网站，也就是未经用户授权，便将`A`网站的`cookie`发送到B网站。
    + 如果用户没有登录注册过`A`网站，或者`A`网站接口有漏洞。
+ 防御措施
    + 加入`Token`验证，服务器向本地存储一个`Token`，在用户访问网站接口的时候，如果网站发现浏览器没有`Token`，就不能确认通过验证。
    + `Referer`验证，页面来源，服务器判断是否来自页面的动作，如果是，继续，如果不是，一律拦截。
    + 隐藏令牌，类似于`Token`，隐藏到`http`头中。

# 3. `XSS`
+ 基本概念和缩写
    + 跨域脚本攻击`Cross-site scripting`
    + 攻击原理，向页面注入脚本，在内容区写入`script`标签及内容。
    + 防御措施，核心措施是让在内容区写入的`script`内容无法执行。
+ 在博客写一篇文章，同时偷偷儿插入一段`script`代码。
+ 攻击代码中，获取`cookie`，发送自己的服务器
+ 发布博客，有人查看博客内容

# 4. `XSS`解决方案
+ 前端替换关键字，例如替换`<`为`&lt`,`>`为`&gt`。
+ 配合后端一起

# 5. `XSRF`
+ 已登录一个购物网站，正在浏览商品
+ 网站付费接口是`xxx.com/pay?id=100`，但是没有任何验证
+ 然后收到一封邮件，隐藏着`img src="xxx.com/pay?id=100"`
+ 当你查看邮件的生活，就已经悄悄的付费购买了。

# 6. `XSRF`解决方案
+ 增加验证流程，如输入指纹，密码，短信验证码。
