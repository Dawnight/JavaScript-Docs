<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>debounce</title>
  <link href="https://cdn.bootcss.com/twitter-bootstrap/3.3.7/css/bootstrap.css" rel="stylesheet">
</head>
<body>
<button class="btn btn-primary" id="btn">click</button>
<script>
  let btn = document.getElementById('btn');

  function debounce(func, wait, immediate) {
    let timeout = null;
    return function () {
      clearTimeout(timeout);
      if (immediate) {
        let callNow = !timeout;
        if (callNow) {
          func.apply(this, arguments);
        }
      }
      timeout = setTimeout(() => {
        func.apply(this, arguments);
        timeout = null;
      }, wait);
    }
  }

  function debounce(func, wait, immediate) {
    let timeout = null;
    return function () {
      clearTimeout(timeout);
      if(immediate) {
        let callNow = !timeout;
        if (callNow) {
          fn.apply(this, arguments);
        }
      }
      timeout = setTimeout(() => {
        func.apply(this, arguments);
        timeout = null;
      }, wait);
    }
  }

  // function logger() {
  //   console.log('logger');
  // }

  // btn.addEventListener('click', debounce(logger, 1000, true));

</script>
</body>
</html>
